<template>
    <div class="navbar-container">
        <div class="menu-burger" @click="toggleNav">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                <path d="M3 6h18M3 12h18M3 18h18" stroke="#5C99A3" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" />
            </svg>
        </div>
        <div class="navbar" :class="{ active: isNavVisible }">
            <h1 @click="showItem('home')">Time Manager</h1>
            <div class="line"></div>
            <div class="items">
                <div class="item" @click="showItem('home')">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="25" viewBox="0 0 32 25" fill="none">
                        <path
                            d="M15.5757 6.45561L5.33375 14.8911V23.9954C5.33375 24.2311 5.4274 24.4572 5.59408 24.6239C5.76077 24.7906 5.98685 24.8842 6.22258 24.8842L12.4477 24.8681C12.6826 24.8669 12.9075 24.7727 13.0733 24.6062C13.239 24.4396 13.332 24.2142 13.332 23.9793V18.6625C13.332 18.4267 13.4257 18.2006 13.5924 18.034C13.759 17.8673 13.9851 17.7736 14.2208 17.7736H17.7761C18.0119 17.7736 18.2379 17.8673 18.4046 18.034C18.5713 18.2006 18.665 18.4267 18.665 18.6625V23.9754C18.6646 24.0923 18.6873 24.2082 18.7318 24.3164C18.7763 24.4245 18.8417 24.5228 18.9243 24.6057C19.0069 24.6885 19.105 24.7542 19.213 24.7991C19.321 24.8439 19.4368 24.867 19.5538 24.867L25.7766 24.8842C26.0124 24.8842 26.2384 24.7906 26.4051 24.6239C26.5718 24.4572 26.6654 24.2311 26.6654 23.9954V14.885L16.4257 6.45561C16.3053 6.35858 16.1553 6.30566 16.0007 6.30566C15.8461 6.30566 15.6961 6.35858 15.5757 6.45561ZM31.7539 12.1891L27.1099 8.36102V0.666615C27.1099 0.489818 27.0396 0.320262 26.9146 0.195247C26.7896 0.0702326 26.62 0 26.4432 0H23.3324C23.1556 0 22.986 0.0702326 22.861 0.195247C22.736 0.320262 22.6658 0.489818 22.6658 0.666615V4.70019L17.6922 0.608286C17.215 0.215527 16.616 0.000785131 15.9979 0.000785131C15.3798 0.000785131 14.7809 0.215527 14.3036 0.608286L0.241925 12.1891C0.174423 12.2449 0.118576 12.3134 0.0775751 12.3908C0.0365738 12.4682 0.0112218 12.5529 0.00296764 12.6401C-0.00528651 12.7272 0.00371897 12.8152 0.0294695 12.8989C0.0552201 12.9826 0.097211 13.0604 0.153043 13.1279L1.5696 14.85C1.62528 14.9177 1.69377 14.9737 1.77114 15.0149C1.84851 15.0561 1.93325 15.0817 2.02051 15.0901C2.10776 15.0985 2.19582 15.0896 2.27963 15.0639C2.36345 15.0383 2.44139 14.9963 2.50897 14.9405L15.5757 4.17801C15.6961 4.08098 15.8461 4.02806 16.0007 4.02806C16.1553 4.02806 16.3053 4.08098 16.4257 4.17801L29.493 14.9405C29.5605 14.9963 29.6383 15.0383 29.722 15.0641C29.8057 15.0898 29.8936 15.0988 29.9808 15.0906C30.068 15.0823 30.1527 15.057 30.2301 15.016C30.3075 14.975 30.376 14.9191 30.4318 14.8516L31.8484 13.1295C31.9042 13.0617 31.946 12.9835 31.9714 12.8994C31.9969 12.8153 32.0054 12.7271 31.9967 12.6397C31.9879 12.5523 31.9619 12.4675 31.9203 12.3901C31.8786 12.3128 31.8221 12.2445 31.7539 12.1891Z"
                            fill="#8797A4" />
                    </svg>
                    <h2>Home</h2>
                </div>
                <div class="item" @click="showItem('charts')">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="29" viewBox="0 0 32 29" fill="none">
                        <path
                            d="M24.8 21.5586H26.2C26.6 21.5586 27 21.0795 27 20.6004V3.35356C27 2.87448 26.6 2.3954 26.2 2.3954H24.8C24.4 2.3954 24 2.87448 24 3.35356V20.6004C24 21.0795 24.4 21.5586 24.8 21.5586ZM12.8 21.5586H14.2C14.6 21.5586 15 21.0795 15 20.6004V5.74896C15 5.26988 14.6 4.7908 14.2 4.7908H12.8C12.4 4.7908 12 5.26988 12 5.74896V20.6004C12 21.0795 12.4 21.5586 12.8 21.5586ZM18.8 21.5586H20.2C20.6 21.5586 21 21.0795 21 20.6004V10.5398C21 10.0607 20.6 9.5816 20.2 9.5816H18.8C18.4 9.5816 18 10.0607 18 10.5398V20.6004C18 21.0795 18.4 21.5586 18.8 21.5586ZM31 25.1517H3V1.1977C3 0.535971 2.5525 0 2 0H1C0.4475 0 0 0.535971 0 1.1977V26.3494C0 27.6721 0.895625 28.7448 2 28.7448H31C31.5525 28.7448 32 28.2088 32 27.5471V26.3494C32 25.6877 31.5525 25.1517 31 25.1517ZM6.8 21.5586H8.2C8.6 21.5586 9 21.0795 9 20.6004V15.3306C9 14.8515 8.6 14.3724 8.2 14.3724H6.8C6.4 14.3724 6 14.8515 6 15.3306V20.6004C6 21.0795 6.4 21.5586 6.8 21.5586Z"
                            fill="#5C99A3" />
                    </svg>
                    <h2>Charts</h2>
                </div>
                <div class="item" @click="showItem('workingtimes')">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="37" viewBox="0 0 32 37" fill="none">
                        <path
                            d="M0 33.1429C0 35.0357 1.53571 36.5714 3.42857 36.5714H28.5714C30.4643 36.5714 32 35.0357 32 33.1429V13.7143H0V33.1429ZM22.8571 19.1429C22.8571 18.6714 23.2429 18.2857 23.7143 18.2857H26.5714C27.0429 18.2857 27.4286 18.6714 27.4286 19.1429V22C27.4286 22.4714 27.0429 22.8571 26.5714 22.8571H23.7143C23.2429 22.8571 22.8571 22.4714 22.8571 22V19.1429ZM22.8571 28.2857C22.8571 27.8143 23.2429 27.4286 23.7143 27.4286H26.5714C27.0429 27.4286 27.4286 27.8143 27.4286 28.2857V31.1429C27.4286 31.6143 27.0429 32 26.5714 32H23.7143C23.2429 32 22.8571 31.6143 22.8571 31.1429V28.2857ZM13.7143 19.1429C13.7143 18.6714 14.1 18.2857 14.5714 18.2857H17.4286C17.9 18.2857 18.2857 18.6714 18.2857 19.1429V22C18.2857 22.4714 17.9 22.8571 17.4286 22.8571H14.5714C14.1 22.8571 13.7143 22.4714 13.7143 22V19.1429ZM13.7143 28.2857C13.7143 27.8143 14.1 27.4286 14.5714 27.4286H17.4286C17.9 27.4286 18.2857 27.8143 18.2857 28.2857V31.1429C18.2857 31.6143 17.9 32 17.4286 32H14.5714C14.1 32 13.7143 31.6143 13.7143 31.1429V28.2857ZM4.57143 19.1429C4.57143 18.6714 4.95714 18.2857 5.42857 18.2857H8.28572C8.75714 18.2857 9.14286 18.6714 9.14286 19.1429V22C9.14286 22.4714 8.75714 22.8571 8.28572 22.8571H5.42857C4.95714 22.8571 4.57143 22.4714 4.57143 22V19.1429ZM4.57143 28.2857C4.57143 27.8143 4.95714 27.4286 5.42857 27.4286H8.28572C8.75714 27.4286 9.14286 27.8143 9.14286 28.2857V31.1429C9.14286 31.6143 8.75714 32 8.28572 32H5.42857C4.95714 32 4.57143 31.6143 4.57143 31.1429V28.2857ZM28.5714 4.57143H25.1429V1.14286C25.1429 0.514286 24.6286 0 24 0H21.7143C21.0857 0 20.5714 0.514286 20.5714 1.14286V4.57143H11.4286V1.14286C11.4286 0.514286 10.9143 0 10.2857 0H8C7.37143 0 6.85714 0.514286 6.85714 1.14286V4.57143H3.42857C1.53571 4.57143 0 6.10714 0 8V11.4286H32V8C32 6.10714 30.4643 4.57143 28.5714 4.57143Z"
                            fill="#A4AABD" />
                    </svg>
                    <h2>WorkingTimes</h2>
                </div>
                <div class="item" @click="showItem('profile')">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="37" viewBox="0 0 32 37" fill="none">
                        <path
                            d="M16 18.2857C21.05 18.2857 25.1429 14.1929 25.1429 9.14286C25.1429 4.09286 21.05 0 16 0C10.95 0 6.85714 4.09286 6.85714 9.14286C6.85714 14.1929 10.95 18.2857 16 18.2857ZM22.4 20.5714H21.2071C19.6214 21.3 17.8571 21.7143 16 21.7143C14.1429 21.7143 12.3857 21.3 10.7929 20.5714H9.6C4.3 20.5714 0 24.8714 0 30.1714V33.1429C0 35.0357 1.53571 36.5714 3.42857 36.5714H28.5714C30.4643 36.5714 32 35.0357 32 33.1429V30.1714C32 24.8714 27.7 20.5714 22.4 20.5714Z"
                            fill="#A4AABD" />
                    </svg>
                    <h2>Profile</h2>
                </div>
            </div>
            <div class="line"></div>
            <div class="logout" @click="logout">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="25" viewBox="0 0 32 25" fill="none">
                    <path
                        d="M31.5571 13.2719L20.8899 23.939C19.9375 24.8915 18.2866 24.2248 18.2866 22.8596V16.7641H9.65127C8.80679 16.7641 8.12739 16.0847 8.12739 15.2402V9.14466C8.12739 8.30018 8.80679 7.62078 9.65127 7.62078H18.2866V1.52524C18.2866 0.166438 19.9311 -0.506611 20.8899 0.445817L31.5571 11.113C32.1476 11.7099 32.1476 12.675 31.5571 13.2719ZM12.1911 23.6216V21.0818C12.1911 20.6627 11.8482 20.3198 11.4291 20.3198H6.09554C4.97167 20.3198 4.06369 19.4118 4.06369 18.288V6.09689C4.06369 4.97303 4.97167 4.06504 6.09554 4.06504H11.4291C11.8482 4.06504 12.1911 3.72217 12.1911 3.3031V0.763293C12.1911 0.344225 11.8482 0.00135045 11.4291 0.00135045H6.09554C2.73029 0.00135045 0 2.73165 0 6.09689V18.288C0 21.6532 2.73029 24.3835 6.09554 24.3835H11.4291C11.8482 24.3835 12.1911 24.0406 12.1911 23.6216Z"
                        fill="#A4AABD" />
                </svg>
                <h2>Log Out</h2>
            </div>
        </div>
    </div>
</template>

<script>
import { createToast } from 'mosha-vue-toastify';

export default {
    name: 'NavBar',
    data() {
        return {
            isNavVisible: true,
            isBurgerActive: false,
        };
    },
    methods: {
        showItem(e) {
            this.$router.push(e)
        },
        logout() {
            this.$router.push('identification')
            localStorage.clear()
            createToast('You are now deconnected',{ type: 'success', position: 'bottom-right' })
        },
        toggleNav() {
            const navbarElements = document.getElementsByClassName("navbar");
            if (!this.isBurgerActive) {
                if (navbarElements.length > 0) {
                    const navbar = navbarElements[0];
                    navbar.style.display = 'grid';
                }
                this.isBurgerActive = true;
            } else {
                if (navbarElements.length > 0) {
                    const navbar = navbarElements[0];
                    navbar.style.display = 'none';
                }
                this.isBurgerActive = false;
            }
        },
    },
}
</script>

<style scoped>
h1 {
    font-weight: 700;
    margin: 1rem 0px;
    font-size: 40px;
    cursor: pointer;
}

.navbar {
    height: 100vh;
    background-color: #FFF;
    display: grid;
    grid-template-rows: 10vh 1px 80vh 1px 10vh;
    border-radius: 1px 45px 45px 1px;
    color: #5C99A3;
    text-align: center;
    width: 330px;
}

.line {
    border: 0.5px solid #000;
}

.items {
    display: flex;
    flex-direction: column;
    gap: 5vh;
    margin: 10vh 0px;
}

.item {
    display: flex;
    gap: 1rem;
    align-items: center;
    padding-left: 3rem;
    width: 100%;
    cursor: pointer;
}

.item:hover {
    border-left: 5px solid #5C99A3;
}

.logout {
    display: flex;
    gap: 1rem;
    align-items: center;
    padding-left: 3rem;
    width: 100%;
    cursor: pointer;
}

.logout:hover {
    opacity: 0.5;
}

.navbar-container {
    display: inline;
    align-items: center;
}

.menu-burger {
    background-color: #FFF;
    display: none;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    cursor: pointer;
}

.menu-burger svg {
    fill: none;
    stroke: #000000;
    stroke-width: 2;
    transition: all 0.3s;
}

.menu-burger:hover svg {
    transform: scale(1.2);
}

.menu-burger svg path {
    transition: stroke-dasharray 0.3s, stroke-dashoffset 0.3s;
}

.menu-burger.active svg path:nth-child(1) {
    stroke-dasharray: 20 40;
}

.menu-burger.active svg path:nth-child(2) {
    stroke-dasharray: 20 40;
}

.menu-burger.active svg path:nth-child(3) {
    stroke-dasharray: 20 40;
}

.menu-burger.active svg path {
    stroke-dashoffset: -15;
}

@media (max-width: 900px) {
    .navbar {
        display: none;
    }

    .menu-burger {
        display: flex;
    }
}

@media (min-width: 900px) {
    .navbar {
        display: grid !important;
    }

    .menu-burger {
        display: none;
    }
}
</style>